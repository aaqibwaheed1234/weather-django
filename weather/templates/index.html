
{% extends "base.html" %}

{% block title %}Weather App{% endblock %}

{% block content %}

<style>
    .filter-container{
        background: linear-gradient(135deg, #0d6efd5c, #0d65e5, #0d65e5);
        border-radius:20px;
        padding: 10px;
        min-width: 250px;
        max-width:40%;
        width: 100%;
    }
    .filter-form{
        display:flex;
        align-items:flex-end;
        justify-content:center;
        gap:10px;

    }
    .filter-input{
        background-color:white;
        border-radius: 10px;
        display:flex;
        align-items:center;
        gap:5px;
        padding: 0px 10px 0px 5px;
    }
    .filter-input input{
        border:none;
        outline:none;
        border-radius:10px;
        padding:5px;
        width:200px;
    }
</style>

<div class="filter-container">
    <form method="post" action="{% url 'weather' %}" class="filter-form">
        {% csrf_token %}
        <div class="filter-input">
            <input type="text" name="city" placeholder="Search weather">
            <i class="fa-solid fa-magnifying-glass"></i>
        </div>
    </form>

    {% if weather_data %}
        <div class="mt-5">
            {% if weather_data.error %}
                <div class="alert alert-danger">{{ weather_data.error }}</div>
            {% else %}
                <h2>Weather in {{ weather_data.city }}, {{ weather_data.country }}</h2>
                <img src="http://openweathermap.org/img/w/{{ weather_data.icon }}.png" alt="weather icon">
                <p>Temperature: {{ weather_data.temp }}°C</p>
                <p>Humidity: {{ weather_data.humidity }}</p>
                <p>Wind: {{ weather_data.wind }}Km/h</p>
                <p>Description: {{ weather_data.description }}</p>
            {% endif %}
        </div>
        {% endif %}
    </div>
    <div class="days-container">
        <div class="daily-weather">
            <img src="http://openweathermap.org/img/w/{{ weather_data.icon }}.png" />
            <p>{{ weather_data.description }}</p>
            <p>{{ weather_data.temp }}°C</p>
        </div>
        <div class="daily-weather">
            <img src="http://openweathermap.org/img/w/{{ weather_data.icon }}.png" />
            <p>{{ weather_data.description }}</p>
            <p>{{ weather_data.temp }}°C</p>
        </div>
        <div class="daily-weather">
            <img src="http://openweathermap.org/img/w/{{ weather_data.icon }}.png" />
            <p>{{ weather_data.description }}</p>
            <p>{{ weather_data.temp }}°C</p>
        </div>
        <div class="daily-weather">
            <img src="http://openweathermap.org/img/w/{{ weather_data.icon }}.png" />
            <p>{{ weather_data.description }}</p>
            <p>{{ weather_data.temp }}°C</p>
        </div>
        <div class="daily-weather">
            <img src="http://openweathermap.org/img/w/{{ weather_data.icon }}.png" />
            <p>{{ weather_data.description }}</p>
            <p>{{ weather_data.temp }}°C</p>
        </div>
        <div class="daily-weather">
            <img src="http://openweathermap.org/img/w/{{ weather_data.icon }}.png" />
            <p>{{ weather_data.description }}</p>
            <p>{{ weather_data.temp }}°C</p>
        </div>
        <div class="daily-weather">
            <img src="http://openweathermap.org/img/w/{{ weather_data.icon }}.png" />
            <p>{{ weather_data.description }}</p>
            <p>{{ weather_data.temp }}°C</p>
        </div>
    </div>
{% endblock %}
